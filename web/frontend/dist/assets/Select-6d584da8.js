import{ag as j,J as z,t as a,I as q,ap as A,ai as D,T as R}from"./index-885978b8.js";import{L as U,h as F}from"./Labelled-5b2a4701.js";var i={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",Backdrop:"Polaris-Select__Backdrop",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",Input:"Polaris-Select__Input",error:"Polaris-Select--error",hover:"Polaris-Select--hover"};const _="";function X({options:e,label:t,labelAction:n,labelHidden:l,labelInline:r,disabled:u,helpText:m,placeholder:S,id:x,name:I,value:b=_,error:c,onChange:E,onFocus:O,onBlur:k,requiredIndicator:v}){const s=j("Select",x),N=r?!0:l,L=z(i.Select,c&&i.error,u&&i.disabled),y=E?T=>E(T.currentTarget.value,s):void 0,o=[];m&&o.push(F(s)),c&&o.push(`${s}Error`);let d=(e||[]).map(J);S&&(d=[{label:S,value:_,disabled:!0},...d]);const B=r&&a.createElement(D,{paddingInlineEnd:"1"},a.createElement(R,{as:"span",color:"subdued",truncate:!0},t)),p=V(d,b),C=p.prefix&&a.createElement("div",{className:i.Prefix},p.prefix),M=a.createElement("div",{className:i.Content,"aria-hidden":!0,"aria-disabled":u},B,C,a.createElement("span",{className:i.SelectedOption},p.label),a.createElement("span",{className:i.Icon},a.createElement(q,{source:A}))),H=d.map(w);return a.createElement(U,{id:s,label:t,error:c,action:n,labelHidden:N,helpText:m,requiredIndicator:v},a.createElement("div",{className:L},a.createElement("select",{id:s,name:I,value:b,className:i.Input,disabled:u,onFocus:O,onBlur:k,onChange:y,"aria-invalid":!!c,"aria-describedby":o.length?o.join(" "):void 0,"aria-required":v},H),M,a.createElement("div",{className:i.Backdrop})))}function P(e){return typeof e=="string"}function f(e){return typeof e=="object"&&"options"in e&&e.options!=null}function g(e){return{label:e,value:e}}function J(e){if(P(e))return g(e);if(f(e)){const{title:t,options:n}=e;return{title:t,options:n.map(l=>P(l)?g(l):l)}}return e}function V(e,t){const n=$(e);let l=n.find(r=>t===r.value);return l===void 0&&(l=n.find(r=>!r.hidden)),l||{value:"",label:""}}function $(e){let t=[];return e.forEach(n=>{f(n)?t=t.concat(n.options):t.push(n)}),t}function h(e){const{value:t,label:n,prefix:l,...r}=e;return a.createElement("option",Object.assign({key:t,value:t},r),n)}function w(e){if(f(e)){const{title:t,options:n}=e;return a.createElement("optgroup",{label:t,key:t},n.map(h))}return h(e)}export{X as S};

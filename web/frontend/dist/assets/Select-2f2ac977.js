import{ak as z,Q as R,R as a,K as T,at as q,am as A,X as D}from"./index-a7d8285a.js";import{L as U,h as F}from"./Labelled-b978b66a.js";var r={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",Backdrop:"Polaris-Select__Backdrop",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",Input:"Polaris-Select__Input",error:"Polaris-Select--error",hover:"Polaris-Select--hover"};const _="";function W({options:e,label:t,labelAction:n,labelHidden:l,labelInline:i,disabled:u,helpText:m,placeholder:S,id:x,name:O,value:b=_,error:c,onChange:E,onFocus:I,onBlur:k,requiredIndicator:v}){const s=z("Select",x),N=i?!0:l,L=R(r.Select,c&&r.error,u&&r.disabled),y=E?j=>E(j.currentTarget.value,s):void 0,o=[];m&&o.push(F(s)),c&&o.push(`${s}Error`);let d=(e||[]).map(K);S&&(d=[{label:S,value:_,disabled:!0},...d]);const B=i&&a.createElement(A,{paddingInlineEnd:"1"},a.createElement(D,{as:"span",color:"subdued",truncate:!0},t)),p=Q(d,b),C=p.prefix&&a.createElement("div",{className:r.Prefix},p.prefix),M=a.createElement("div",{className:r.Content,"aria-hidden":!0,"aria-disabled":u},B,C,a.createElement("span",{className:r.SelectedOption},p.label),a.createElement("span",{className:r.Icon},a.createElement(T,{source:q}))),H=d.map(X);return a.createElement(U,{id:s,label:t,error:c,action:n,labelHidden:N,helpText:m,requiredIndicator:v},a.createElement("div",{className:L},a.createElement("select",{id:s,name:O,value:b,className:r.Input,disabled:u,onFocus:I,onBlur:k,onChange:y,"aria-invalid":!!c,"aria-describedby":o.length?o.join(" "):void 0,"aria-required":v},H),M,a.createElement("div",{className:r.Backdrop})))}function P(e){return typeof e=="string"}function f(e){return typeof e=="object"&&"options"in e&&e.options!=null}function g(e){return{label:e,value:e}}function K(e){if(P(e))return g(e);if(f(e)){const{title:t,options:n}=e;return{title:t,options:n.map(l=>P(l)?g(l):l)}}return e}function Q(e,t){const n=V(e);let l=n.find(i=>t===i.value);return l===void 0&&(l=n.find(i=>!i.hidden)),l||{value:"",label:""}}function V(e){let t=[];return e.forEach(n=>{f(n)?t=t.concat(n.options):t.push(n)}),t}function h(e){const{value:t,label:n,prefix:l,...i}=e;return a.createElement("option",Object.assign({key:t,value:t},i),n)}function X(e){if(f(e)){const{title:t,options:n}=e;return a.createElement("optgroup",{label:t,key:t},n.map(h))}return h(e)}export{W as S};
